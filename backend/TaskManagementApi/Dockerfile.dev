# Use the official .NET SDK image for development
FROM mcr.microsoft.com/dotnet/sdk:9.0
WORKDIR /app

# Copy the project files (this will be overridden by the volume mount during development)
COPY . .

# Restore dependencies
RUN dotnet restore "TaskManagementApi.csproj"

# Expose port 80 (inside container)
EXPOSE 80

# Run the application with dotnet watch to enable hot reload.
CMD ["dotnet", "watch", "run", "--urls", "http://0.0.0.0:80"]